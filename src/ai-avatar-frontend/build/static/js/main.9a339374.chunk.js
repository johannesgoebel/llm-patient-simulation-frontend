(this["webpackJsonpai-avatar-frontend"]=this["webpackJsonpai-avatar-frontend"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(7),r=a.n(c),s=a(4);a(16),a(6);var o=()=>{const[e,t]=Object(n.useState)([]),[a,c]=Object(n.useState)(""),[r,s]=Object(n.useState)(null),[o,i]=Object(n.useState)("Astrid Seeger"),[m,d]=Object(n.useState)(""),u=async e=>{try{const a="https://llm-patient-simulation-backend.vercel.app/conversation/vignette?name=".concat(encodeURIComponent(e)),n=await fetch(a,{method:"POST"});if(n.ok)i(e),t([]);else if(0===n.status)console.error("Failed to update vignette: CORS issue detected.");else if(n.ok||n.status){const e=await n.text();console.error("Failed to update vignette: ".concat(n.status," - ").concat(e))}else console.error("Failed to update vignette: Network error.")}catch(r){console.error("Error:",r.message)}};return l.a.createElement("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{height:"100vh",overflow:"hidden"}},l.a.createElement("div",{className:"row",style:{width:"80%"}},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center"},l.a.createElement("div",null,l.a.createElement("h4",{style:{margin:"20px"}},"Auswahl der Fallvignette"),l.a.createElement("div",{className:"row"},l.a.createElement("button",{type:"button",className:"btn btn-lg ".concat("Astrid Seeger"===o?"btn-primary":"btn-secondary"),onClick:()=>u("Astrid Seeger")},"Astrid Seeger"),l.a.createElement("button",{type:"button",className:"btn btn-lg ".concat("Michael Schulze"===o?"btn-primary":"btn-secondary"),onClick:()=>u("Michael Schulze")},"Michael Schulze"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",{htmlFor:"apiKeyInput",className:"form-label"},l.a.createElement("h4",{style:{margin:"20px"}},"API Key")),l.a.createElement("input",{type:"text",className:"form-control",id:"apiKeyInput",placeholder:"Hier Key einf\xfcgen",value:m,onChange:e=>{d(e.target.value)}}))))))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"overflow-hidden"},l.a.createElement("div",{className:"card",style:{overflowY:"scroll",height:"100%",width:"100%"}},l.a.createElement("div",{className:"card-header"},l.a.createElement("h2",null,"Chat ")),l.a.createElement("div",{className:"card-body d-flex flex-column",style:{height:"400px"}},l.a.createElement("div",{className:"mb-3 flex-grow-1",style:{overflowY:"scroll",border:"1px solid #ccc",padding:"10px"}},e.map((e,t)=>((e,t)=>{const a="Me"===e.user;return l.a.createElement("div",{key:t,className:"d-flex ".concat(a?"justify-content-end":"justify-content-start"," my-2")},l.a.createElement("div",{className:"p-2 rounded ".concat(a?"bg-primary text-white":"bg-light text-dark"),style:{maxWidth:"70%"}},e.text))})(e,t))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("input",{type:"text",className:"form-control",value:a,onChange:e=>c(e.target.value),placeholder:"Hier Nachricht eintragen.."}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{onClick:async()=>{if(a&&m)try{const n="https://llm-patient-simulation-backend.vercel.app/retrieve_answer?message=".concat(encodeURIComponent(a),"&api_key=").concat(m),l=await fetch(n,{method:"POST",headers:{accept:"application/json"}});if(!l.ok)throw console.log(l),new Error("Failed to retrieve answer");const r=await l.json();t([...e,{user:"Me",text:a},{user:"Bot",text:r.answer}]),c(""),s(null)}catch(r){s(r.message)}},className:"btn btn-primary",disabled:!a||!m},"Senden"))),r&&l.a.createElement("div",{className:"alert alert-danger mt-3"},r)))))))},i=(a(17),a(2));var m=function(){return l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",element:l.a.createElement(o,null)}))};var d=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(s.a,{basename:"/llm-patient-simulation-frontend"},l.a.createElement(m,null))),d()},8:function(e,t,a){e.exports=a(18)}},[[8,1,2]]]);
//# sourceMappingURL=main.9a339374.chunk.js.map