(this["webpackJsonpai-avatar-frontend"]=this["webpackJsonpai-avatar-frontend"]||[]).push([[0],{14:function(e,t,a){e.exports=a(29)},22:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),i=a.n(l),c=a(6),s=(a(22),a(8),a(3)),o=a.n(s);var m=()=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"80",height:"80"},r.a.createElement("path",{id:"line1",d:"M20 10 L20 90",stroke:"white","stroke-width":"8","stroke-linecap":"round",begin:"0s"},r.a.createElement("animate",{attributeName:"d",dur:"1s",values:"M20 10 L20 90; M20 30 L20 70; M20 10 L20 90;",repeatCount:"indefinite",begin:"0.1s"})),r.a.createElement("path",{id:"line2",d:"M35 20 L35 80",stroke:"white","stroke-width":"8","stroke-linecap":"round"},r.a.createElement("animate",{attributeName:"d",dur:"1s",values:"M35 20 L35 80; M35 40 L35 60; M35 20 L35 80;",repeatCount:"indefinite",begin:"0.2s"})),r.a.createElement("path",{id:"line3",d:"M50 10 L50 90",stroke:"white","stroke-width":"8","stroke-linecap":"round"},r.a.createElement("animate",{attributeName:"d",dur:"1s",values:"M50 10 L50 90; M50 30 L50 70; M50 10 L50 90;",repeatCount:"indefinite",begin:"0.3s"})),r.a.createElement("path",{id:"line4",d:"M65 20 L65 80",stroke:"white","stroke-width":"8","stroke-linecap":"round"},r.a.createElement("animate",{attributeName:"d",dur:"1s",values:"M65 20 L65 80; M65 40 L65 60; M65 20 L65 80;",repeatCount:"indefinite",begin:"0.4s"})),r.a.createElement("path",{id:"line5",d:"M80 10 L80 90",stroke:"white","stroke-width":"8","stroke-linecap":"round"},r.a.createElement("animate",{attributeName:"d",dur:"1s",values:"M80 10 L80 90; M80 30 L80 70; M80 10 L80 90;",repeatCount:"indefinite",begin:"0.5s"})));var d=()=>r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",fill:"currentColor",className:"bi bi-mic",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"}),r.a.createElement("path",{d:"M10 8a2 2 0 1 1-4 0V3a2 2 0 1 1 4 0zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3"}));var u=e=>{let{sendMessage:t,dictaphoneState:a}=e;const{transcript:n,browserSupportsSpeechRecognition:l}=Object(s.useSpeechRecognition)();if(!l)return r.a.createElement("span",null,"Browser doesn't support speech recognition. This app is primarily developed for Google Chrome.");return r.a.createElement("div",{className:"chat-input-container  d-flex flex-column align-items-center"},r.a.createElement("button",{className:"round-button btn btn-primary dictaphone-button",style:{borderRadius:"50%",width:"100px",height:"100px",margin:"20px"},onMouseDown:o.a.startListening,onMouseUp:()=>{var e;e=5e3,new Promise(t=>setTimeout(t,e)),o.a.stopListening(),t(n)}},(()=>{switch(a){case 1:return r.a.createElement(d,null);case 2:return r.a.createElement("div",{class:"spinner-border text-light",role:"status"});case 3:return r.a.createElement(m,null);default:return null}})()),r.a.createElement("p",{class:"text-primary"},"Zur Spracheingabe Button dr\xfccken und halten"))};var h=()=>{const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)(""),[i,c]=Object(n.useState)("Astrid Seeger"),[s,o]=Object(n.useState)(""),[m,d]=Object(n.useState)(1),h=Object(n.useRef)(null);Object(n.useEffect)(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[e]);const p=async e=>{try{const a="https://llm-patient-simulation-backend.vercel.app/conversation/vignette?name=".concat(encodeURIComponent(e)),n=await fetch(a,{method:"POST"});if(n.ok)c(e),t([]);else if(0===n.status)console.error("Failed to update vignette: CORS issue detected.");else if(n.ok||n.status){const e=await n.text();console.error("Failed to update vignette: ".concat(n.status," - ").concat(e))}else console.error("Failed to update vignette: Network error.")}catch(a){console.error("Error:",a.message)}},g=async a=>{if(a&&s){d(2),l("");try{const n="https://llm-patient-simulation-backend.vercel.app/retrieve_answer?message=".concat(encodeURIComponent(a),"&api_key=").concat(s),r=await fetch(n,{method:"POST",headers:{accept:"application/json"}});if(!r.ok)throw new Error("Failed to retrieve answer");const i=await r.json();t([...e,{user:"Me",text:a},{user:"Bot",text:i.answer}]),l(""),d(1)}catch(n){console.error("Error sending message:",n)}}};return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{minHeight:"100vh",overflow:"hidden",background:"#696969"}},r.a.createElement("div",{className:"row",style:{width:"100%"}},r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center",style:{color:"#faf8ff",height:"100vh"}},r.a.createElement("div",null,r.a.createElement("h4",{style:{margin:"20px"}},"Auswahl der Fallvignette"),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"button",className:"btn btn-lg ".concat("Astrid Seeger"===i?"btn-primary":"btn-secondary"),onClick:()=>p("Astrid Seeger")},"Astrid Seeger"),r.a.createElement("button",{type:"button",className:"btn btn-lg ".concat("Michael Schulze"===i?"btn-primary":"btn-secondary"),onClick:()=>p("Michael Schulze")},"Michael Schulze")),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"apiKeyInput",className:"form-label"},r.a.createElement("h4",{style:{margin:"20px"}},"API Key")),r.a.createElement("input",{type:"text",className:"form-control",id:"apiKeyInput",placeholder:"Hier Key einf\xfcgen",value:s,onChange:e=>{o(e.target.value)}}))),r.a.createElement("div",{className:"form-check form-switch"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault"},"Audio generieren"))))),r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"rounded-xl shadow-lg",style:{backgroundColor:"white",height:"100vh",overflow:"hidden"}},r.a.createElement("div",{className:"chat-container overflow-auto",style:{height:"60%",padding:"10px",position:"relative"}},e.map((e,t)=>((e,t)=>{const a="Me"===e.user;return r.a.createElement("div",{key:t,className:"d-flex ".concat(a?"justify-content-end":"justify-content-start"," my-2")},r.a.createElement("div",{className:"p-2 rounded ".concat(a?"bg-primary text-white":"bg-light text-dark"),style:{maxWidth:"70%"}},e.text))})(e,t))),r.a.createElement("div",{className:"container-fluid d-flex justify-content-center align-items-end",style:{height:"20%"}},r.a.createElement("div",{className:"position-fixed bottom-0 mb-3 p-2 rounded-l shadow",style:{width:"60%",left:"60%",transform:"translateX(-50%)",background:"linear-gradient(white, rgba(255, 255, 255, 0))"}},r.a.createElement(u,{sendMessage:g,dictaphoneState:m,disabled:!s}),r.a.createElement("div",{className:"input-group mt-3"},r.a.createElement("input",{type:"text",className:"form-control",value:a,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&a&&g(a)},placeholder:"Hier Nachricht eintragen.."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{onClick:()=>g(a),className:"btn btn-primary",disabled:!a||!s},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-right",viewBox:"0 0 16 16"},r.a.createElement("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"}))))))))))))},p=(a(28),a(2));var g=function(){return r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",element:r.a.createElement(h,null)}))};var v=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,30)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:l,getTTFB:i}=t;a(e),n(e),r(e),l(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(r.a.createElement(c.a,{basename:"/llm-patient-simulation-frontend"},r.a.createElement(g,null))),v()}},[[14,1,2]]]);
//# sourceMappingURL=main.fb150a23.chunk.js.map